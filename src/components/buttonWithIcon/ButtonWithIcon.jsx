import PropTypes from 'prop-types'

const iconDefault = 
  (<svg aria-hidden="true" width="19" height="20" viewBox="0 0 19 20">
    <path d="M10.9977 4.9987C10.5929 5.49652 10.8047 5.5311 10.2879 5.61202C10.9977 5.4987 9.77103 5.69294 10.2879 5.61202C11.4977 4.9987 9.8655 5.26857 10.2879 5.61202L9.08263 5.61202L2.8241 5.6352C2.08942 5.61418 1.51843 5.43808 1.11113 5.1069C0.701002 4.74837 0.482832 4.30785 0.456616 3.78536C0.430398 3.26286 0.61968 2.7527 1.02446 2.25489C1.41697 1.77216 1.81886 1.4474 2.23012 1.28062C2.63856 1.08649 3.14033 0.993301 3.73543 1.00106L8.16191 1.10454L7.02117 2.50748L6.69136 1.07016C5.70069 0.9987 8.01038 1.46942 8.11712 1.02997C9.81568 1.05846 8.26476 1.5261 8.64501 1.05846C9.45662 0.9987 9.45202 1.06453 9.95662 0.9987C10.4735 0.917782 9.72575 0.985338 10.1481 1.32879C10.5828 1.65715 10.6649 1.05101 11.0868 1.04731L11.6033 2.51198L9.81568 1.05846L16.6302 0.998701C17.347 0.980101 17.9104 1.15007 18.3205 1.5086C18.7307 1.86713 18.9564 2.31378 18.9977 2.84854C19.0239 3.37104 18.8285 3.88874 18.4114 4.40164C18.0312 4.86929 17.6368 5.20018 17.2284 5.39431C16.8049 5.57618 16.2956 5.66323 15.7005 5.65547H12.3214L11.4566 5.61202C10.4566 5.65547 10.2879 5.61202 10.2879 5.61202C9.99767 5.4987 9.99767 4.4987 10.9977 4.9987Z" />
    <path d="M10.9977 11.6868C10.5929 12.1846 10.8047 12.2192 10.2879 12.3001C10.9977 12.1868 9.77103 12.3811 10.2879 12.3001C11.4977 11.6868 9.8655 11.9567 10.2879 12.3001L9.08263 12.3001L2.8241 12.3233C2.08942 12.3023 1.51843 12.1262 1.11113 11.795C0.701002 11.4365 0.482832 10.996 0.456616 10.4735C0.430398 9.95097 0.61968 9.44082 1.02446 8.943C1.41697 8.46027 1.81886 8.13551 2.23012 7.96873C2.63856 7.7746 3.14033 7.68141 3.73543 7.68917L8.16191 7.79265L7.02117 9.19559L6.69136 7.75827C5.70069 7.68681 8.01038 8.15753 8.11712 7.71808C9.81568 7.74657 8.26476 8.21421 8.64501 7.74657C9.45662 7.68681 9.45202 7.75264 9.95662 7.68681C10.4735 7.60589 9.72575 7.67345 10.1481 8.0169C10.5828 8.34526 10.6649 7.73912 11.0868 7.73542L11.6033 9.20009L9.81568 7.74657L16.6302 7.68681C17.347 7.66821 17.9104 7.83818 18.3205 8.19671C18.7307 8.55524 18.9564 9.00189 18.9977 9.53665C19.0239 10.0591 18.8285 10.5768 18.4114 11.0898C18.0312 11.5574 17.6368 11.8883 17.2284 12.0824C16.8049 12.2643 16.2956 12.3513 15.7005 12.3436H12.3214L11.4566 12.3001C10.4566 12.3436 10.2879 12.3001 10.2879 12.3001C9.99767 12.1868 9.99767 11.1868 10.9977 11.6868Z" />
    <path d="M10.9977 18.3749C10.5929 18.8727 10.8047 18.9073 10.2879 18.9882C10.9977 18.8749 9.77103 19.0692 10.2879 18.9882C11.4977 18.3749 9.8655 18.6448 10.2879 18.9882L9.08263 18.9882L2.8241 19.0114C2.08942 18.9904 1.51843 18.8143 1.11113 18.4831C0.701002 18.1246 0.482832 17.6841 0.456616 17.1616C0.430398 16.6391 0.61968 16.1289 1.02446 15.6311C1.41697 15.1484 1.81886 14.8236 2.23012 14.6568C2.63856 14.4627 3.14033 14.3695 3.73543 14.3773L8.16191 14.4808L7.02117 15.8837L6.69136 14.4464C5.70069 14.3749 8.01038 14.8456 8.11712 14.4062C9.81568 14.4347 8.26476 14.9023 8.64501 14.4347C9.45662 14.3749 9.45202 14.4408 9.95662 14.3749C10.4735 14.294 9.72575 14.3616 10.1481 14.705C10.5828 15.0334 10.6649 14.4272 11.0868 14.4235L11.6033 15.8882L9.81568 14.4347L16.6302 14.3749C17.347 14.3563 17.9104 14.5263 18.3205 14.8848C18.7307 15.2434 18.9564 15.69 18.9977 16.2248C19.0239 16.7473 18.8285 17.265 18.4114 17.7779C18.0312 18.2455 17.6368 18.5764 17.2284 18.7705C16.8049 18.9524 16.2956 19.0394 15.7005 19.0317H12.3214L11.4566 18.9882C10.4566 19.0317 10.2879 18.9882 10.2879 18.9882C9.99767 18.8749 9.99767 17.8749 10.9977 18.3749Z" />
  </svg>);

const iconOpenedMenu = 
  (<svg width="14" height="16" viewBox="0 0 14 16" fill="none">
  <path d="M2.15815 15.4223C1.51654 15.4223 1.00131 15.2473 0.612449 14.8973C0.223593 14.5474 0.0194428 14.1002 0 13.5558C0 13.0114 0.223592 12.4573 0.670777 11.8934L4.98708 6.64386V8.94783L1.02075 4.10657C0.573563 3.52329 0.349971 2.96917 0.349971 2.44421C0.369414 1.89981 0.573563 1.45263 0.96242 1.10266C1.35128 0.752684 1.86651 0.577698 2.50812 0.577698C3.13029 0.577698 3.63581 0.684634 4.02466 0.898505C4.43296 1.09293 4.82182 1.42346 5.19123 1.89009L7.90351 5.3898H6.09533L8.8076 1.89009C9.17701 1.42346 9.56587 1.09293 9.97417 0.898505C10.3825 0.684634 10.888 0.577698 11.4907 0.577698C12.1518 0.577698 12.667 0.752684 13.0364 1.10266C13.4253 1.45263 13.6197 1.89981 13.6197 2.44421C13.6391 2.98861 13.4156 3.54273 12.9489 4.10657L8.98259 8.94783V6.64386L13.3281 11.8934C13.7947 12.4378 14.0183 12.9822 13.9988 13.5266C13.9794 14.071 13.7752 14.5279 13.3864 14.8973C12.9975 15.2473 12.4726 15.4223 11.8115 15.4223C11.2088 15.4223 10.7033 15.3251 10.295 15.1307C9.88668 14.9168 9.49782 14.5765 9.12841 14.1099L6.09533 10.2311H7.87434L4.8121 14.1099C4.46213 14.5571 4.08299 14.8876 3.67469 15.1015C3.28584 15.3154 2.78032 15.4223 2.15815 15.4223Z" />
  </svg>
  );

export default function ButtonWithIcon({
  isOpen,
  handleClick,
  captionWhenCollapsed,
  captionWhenExpanded,
  isDefault
}) {
  let caption
  let icon

  if (!isOpen) {
    caption = captionWhenCollapsed
    icon = iconDefault
  } else {
    caption = captionWhenExpanded || captionWhenCollapsed
    icon = iconOpenedMenu
  }


  return (
    <button className={`${isDefault && "default-icon"} withIcon`} data-testid="button-with-icon" onClick={handleClick}>
      <span>
        {/* {isOpen ? caption : captionWhenExpanded || caption} */}
        {caption}
      </span>
        {/* {isOpen ? iconOpenedMenu : iconDefault} */}
        {!isDefault && icon} 
    </button>
  )
}

ButtonWithIcon.propTypes = {
  isOpen: PropTypes.bool.isRequired,
  handleClick: PropTypes.func.isRequired,
  captionWhenCollapsed: PropTypes.string.isRequired,
  captionWhenExpanded: PropTypes.string,
  isDefault: PropTypes.bool.isRequired
}